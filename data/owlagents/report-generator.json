{
  "id": "report-generator",
  "name": "レポート・ドキュメント作成",
  "description": "データや要件を元に、報告書、提案書、マニュアルなどのビジネスドキュメントを自動生成します。テンプレートに沿った構造化された文書を作成します。",
  "iconStyle": "purple",
  "version": "1.0.0",
  "flow": {
    "nodes": [
      {
        "id": "start-report",
        "type": "start",
        "position": { "x": 0, "y": 150 },
        "data": {
          "label": "レポート要件入力",
          "type": "start",
          "category": "flowControl",
          "config": {
            "inputFields": ["documentType", "purpose", "targetAudience", "rawData", "keyPoints"]
          }
        }
      },
      {
        "id": "vectorstore-templates",
        "type": "custom",
        "position": { "x": 200, "y": 50 },
        "data": {
          "label": "ドキュメントテンプレートDB",
          "type": "vectorstore",
          "category": "vectorstore",
          "config": {
            "provider": "pinecone",
            "indexName": "document-templates"
          }
        }
      },
      {
        "id": "llm-structure",
        "type": "azureChatOpenAI",
        "position": { "x": 400, "y": 150 },
        "data": {
          "label": "構成・アウトライン作成",
          "type": "azureChatOpenAI",
          "category": "chatModels",
          "config": {
            "systemMessage": "あなたはビジネスドキュメント作成の専門家です。与えられた要件から以下を作成してください：\n1. ドキュメントの目的と対象読者の分析\n2. 章立てと各章の概要\n3. 含めるべきデータやグラフの提案\n4. 想定される質問とその回答案",
            "temperature": 0.4
          }
        }
      },
      {
        "id": "human-review-structure",
        "type": "custom",
        "position": { "x": 600, "y": 50 },
        "data": {
          "label": "構成確認",
          "type": "humanReview",
          "category": "flowControl",
          "config": {
            "enabled": true,
            "message": "アウトラインを確認してください"
          },
          "humanReview": {
            "enabled": true,
            "requiresApproval": true,
            "approvalMessage": "ドキュメントの構成を確認し、必要に応じて修正してください",
            "allowEdit": true
          }
        }
      },
      {
        "id": "llm-content",
        "type": "azureChatOpenAI",
        "position": { "x": 800, "y": 150 },
        "data": {
          "label": "本文作成",
          "type": "azureChatOpenAI",
          "category": "chatModels",
          "config": {
            "systemMessage": "承認された構成に基づいて、各セクションの本文を作成してください：\n- 対象読者に適した言葉遣いで\n- データは表やリストで分かりやすく\n- 重要なポイントは強調表示\n- 論理的な流れを維持",
            "temperature": 0.5
          }
        }
      },
      {
        "id": "llm-summary",
        "type": "azureChatOpenAI",
        "position": { "x": 1000, "y": 50 },
        "data": {
          "label": "要約・エグゼクティブサマリー",
          "type": "azureChatOpenAI",
          "category": "chatModels",
          "config": {
            "systemMessage": "作成したドキュメントから以下を生成してください：\n1. エグゼクティブサマリー（1ページ以内）\n2. 主要なポイント3-5点\n3. 結論と次のステップ",
            "temperature": 0.3
          }
        }
      },
      {
        "id": "llm-format",
        "type": "azureChatOpenAI",
        "position": { "x": 1200, "y": 150 },
        "data": {
          "label": "最終フォーマット調整",
          "type": "azureChatOpenAI",
          "category": "chatModels",
          "config": {
            "systemMessage": "ドキュメント全体を最終チェックし、以下を確認・調整してください：\n1. フォーマットの一貫性\n2. 目次の生成\n3. 参照の整理\n4. 誤字脱字のチェック\nMarkdown形式で出力してください。",
            "temperature": 0.2
          }
        }
      },
      {
        "id": "end-report",
        "type": "end",
        "position": { "x": 1400, "y": 150 },
        "data": {
          "label": "ドキュメント出力",
          "type": "end",
          "category": "flowControl",
          "config": {}
        }
      }
    ],
    "edges": [
      {
        "id": "edge-start-vector",
        "source": "start-report",
        "target": "vectorstore-templates",
        "sourceHandle": "output",
        "targetHandle": "input"
      },
      {
        "id": "edge-start-structure",
        "source": "start-report",
        "target": "llm-structure",
        "sourceHandle": "output",
        "targetHandle": "input"
      },
      {
        "id": "edge-vector-structure",
        "source": "vectorstore-templates",
        "target": "llm-structure",
        "sourceHandle": "output",
        "targetHandle": "context"
      },
      {
        "id": "edge-structure-review",
        "source": "llm-structure",
        "target": "human-review-structure",
        "sourceHandle": "output",
        "targetHandle": "input"
      },
      {
        "id": "edge-review-content",
        "source": "human-review-structure",
        "target": "llm-content",
        "sourceHandle": "output",
        "targetHandle": "input"
      },
      {
        "id": "edge-content-summary",
        "source": "llm-content",
        "target": "llm-summary",
        "sourceHandle": "output",
        "targetHandle": "input"
      },
      {
        "id": "edge-content-format",
        "source": "llm-content",
        "target": "llm-format",
        "sourceHandle": "output",
        "targetHandle": "input"
      },
      {
        "id": "edge-summary-format",
        "source": "llm-summary",
        "target": "llm-format",
        "sourceHandle": "output",
        "targetHandle": "summary"
      },
      {
        "id": "edge-format-end",
        "source": "llm-format",
        "target": "end-report",
        "sourceHandle": "output",
        "targetHandle": "input"
      }
    ],
    "viewport": { "x": 50, "y": 200, "zoom": 0.8 }
  },
  "tags": ["業務効率化", "レポート", "ドキュメント", "自動化", "ビジネス文書", "報告書"],
  "createdAt": "2025-12-22T10:00:00.000Z",
  "updatedAt": "2025-12-22T10:00:00.000Z"
}
