# MVPスコープと工数見積もり

## 概要

- **期間**: 1ヶ月
- **総工数**: 27人日（2名：12人日 + 15人日）
- **優先順位**: 利用者向け（B）→ 作成者向け（A）

---

## 前提条件

| 項目 | 内容 |
|------|------|
| 認証 | なし（MVP対象外） |
| 管理者機能 | なし（Phase 2） |
| チャット実行 | Portal/Spriteがメイン、Fabricaは簡易版 |
| 初期エージェント | 数件（運営チームが事前作成） |
| 実行基盤 | **未決定**（Flowise / MCP / ハイブリッド）|

---

## MVPスコープ一覧

### 利用者向け機能（B）- 8機能

| # | 機能 | 工数 |
|---|------|------|
| B-1 | エージェント一覧表示 | 1.0人日 |
| B-2 | 検索 | 0.5人日 |
| B-3 | タグフィルタ | 0.5人日 |
| B-7 | エージェント詳細表示 | 1.0人日 |
| B-11 | チャット画面（簡易版） | 2.0人日 |
| B-12 | 会話履歴表示 | 0.5人日 |
| B-17 | エージェント情報API | 1.0人日 |
| B-18 | エージェント実行API | 2.0人日 |
| | **小計** | **8.5人日** |

### 作成者向け機能（A）- 22機能

#### 基本設定（3機能）

| # | 機能 | 工数 |
|---|------|------|
| A-1 | 基本情報入力 | 0.5人日 |
| A-2 | 対象ユーザー設定 | 0.5人日 |
| A-3 | タグ設定 | 0.5人日 |
| | **小計** | **1.5人日** |

#### テンプレート（2機能）

| # | 機能 | 工数 |
|---|------|------|
| A-5 | テンプレート一覧 | 1.0人日 |
| A-6 | テンプレートから作成 | 0.5人日 |
| | **小計** | **1.5人日** |

#### フロービルダー基本（6機能）

| # | 機能 | 工数 | 備考 |
|---|------|------|------|
| A-8 | キャンバス表示 | 0.5人日 | 既存実装あり |
| A-9 | ノード追加 | 0.5人日 | 既存実装あり |
| A-10 | ノード接続 | 0.5人日 | 既存実装あり |
| A-11 | ノード設定 | 1.0人日 | 既存実装あり |
| A-12 | フロー保存 | 0.5人日 | 既存実装あり |
| A-13 | フロー読み込み | 0.5人日 | 既存実装あり |
| | **小計** | **3.5人日** |

#### 人間チェック（2機能）

| # | 機能 | 工数 | 備考 |
|---|------|------|------|
| A-14 | 人間チェック設定 | 0.5人日 | 既存実装あり |
| A-15 | チェックポイント表示 | 0.5人日 | 既存実装あり |
| | **小計** | **1.0人日** |

#### テンプレート・再利用（5機能）

| # | 機能 | 工数 |
|---|------|------|
| A-18 | ノードテンプレート一覧 | 1.0人日 |
| A-19 | ノードテンプレート挿入 | 0.5人日 |
| A-20 | ツールテンプレート一覧 | 1.0人日 |
| A-21 | ツールテンプレート挿入 | 0.5人日 |
| A-22 | プロンプトテンプレート | 1.0人日 |
| | **小計** | **4.0人日** |

#### RAG連携（2機能）

| # | 機能 | 工数 |
|---|------|------|
| A-25 | RAG一覧表示 | 1.0人日 |
| A-26 | RAG選択・紐づけ | 1.0人日 |
| | **小計** | **2.0人日** |

#### テスト（2機能）

| # | 機能 | 工数 |
|---|------|------|
| A-29 | テスト実行 | 1.5人日 |
| A-30 | テスト結果表示 | 1.0人日 |
| | **小計** | **2.5人日** |

#### 公開（2機能）

| # | 機能 | 工数 |
|---|------|------|
| A-34 | 公開範囲設定 | 0.5人日 |
| A-35 | 公開実行 | 0.5人日 |
| | **小計** | **1.0人日** |

---

## 工数サマリー

### 機能開発

| 区分 | 工数 |
|------|------|
| 利用者向け（B） | 8.5人日 |
| 作成者向け（A） | 17.0人日 |
| **機能開発 小計** | **25.5人日** |

### インフラ・基盤（実行基盤の構成による）

| 構成 | 追加工数 |
|------|----------|
| A: Flowise利用 | +2〜3人日 |
| B: MCP独自構築 | +10〜15人日 |
| C: ハイブリッド | +5〜7人日 |

### 総工数見積もり

| 構成 | 合計工数 | 27人日との差 |
|------|----------|-------------|
| A: Flowise利用 | 27.5〜28.5人日 | △0.5〜1.5人日 |
| B: MCP独自構築 | 35.5〜40.5人日 | △8.5〜13.5人日 |
| C: ハイブリッド | 30.5〜32.5人日 | △3.5〜5.5人日 |

---

## 構成別の判断

### 構成A（Flowise利用）を選んだ場合

**工数内に収まる**。ただし、バッファがほぼない。

**リスク対策として削れる機能**:
| 機能 | 工数 | 削除理由 |
|------|------|----------|
| A-18〜A-22 テンプレート機能 | 4.0人日 | Phase 2で追加可能 |
| B-11 チャット画面 | 2.0人日 | Portal/Spriteで代替 |

### 構成B（MCP独自構築）を選んだ場合

**工数が大幅に超過**。以下の対応が必要：

1. 作成者向け機能を大幅カット
2. 期間延長（+2週間）
3. 人員追加

### 構成C（ハイブリッド）を選んだ場合

**工数がやや超過**。テンプレート機能を削れば収まる可能性あり。

---

## 推奨案

### 構成A（Flowise利用）+ 機能スリム化

**削除候補**:
- A-18〜A-22 テンプレート機能（4.0人日）→ Phase 2

**結果**:
- 機能開発: 21.5人日
- インフラ: 2〜3人日
- バッファ: 1.5〜3.5人日
- **合計: 約24〜26人日**

---

## 未決定事項

以下が決まり次第、最終スコープを確定：

1. [ ] 実行基盤の構成（A / B / C）
2. [ ] Portal/SpriteのAPI連携方式
3. [ ] テンプレート機能をMVPに含めるか

---

## 推奨MVPスコープ（確定版）

### 採用構成
**構成A（Flowise利用）+ テンプレート機能削除**

### 最終スコープ

#### 利用者向け機能（B）- 8機能 / 8.5人日

| # | 機能 | MVP |
|---|------|-----|
| B-1 | エージェント一覧表示 | ✅ |
| B-2 | 検索 | ✅ |
| B-3 | タグフィルタ | ✅ |
| B-7 | エージェント詳細表示 | ✅ |
| B-11 | チャット画面（簡易版） | ✅ |
| B-12 | 会話履歴表示 | ✅ |
| B-17 | エージェント情報API | ✅ |
| B-18 | エージェント実行API | ✅ |

#### 作成者向け機能（A）- 17機能 / 13.0人日

| # | 機能 | MVP |
|---|------|-----|
| A-1 | 基本情報入力 | ✅ |
| A-2 | 対象ユーザー設定 | ✅ |
| A-3 | タグ設定 | ✅ |
| A-5 | テンプレート一覧 | ✅ |
| A-6 | テンプレートから作成 | ✅ |
| A-8 | キャンバス表示 | ✅ |
| A-9 | ノード追加 | ✅ |
| A-10 | ノード接続 | ✅ |
| A-11 | ノード設定 | ✅ |
| A-12 | フロー保存 | ✅ |
| A-13 | フロー読み込み | ✅ |
| A-14 | 人間チェック設定 | ✅ |
| A-15 | チェックポイント表示 | ✅ |
| A-25 | RAG一覧表示 | ✅ |
| A-26 | RAG選択・紐づけ | ✅ |
| A-29 | テスト実行 | ✅ |
| A-30 | テスト結果表示 | ✅ |
| A-34 | 公開範囲設定 | ✅ |
| A-35 | 公開実行 | ✅ |

#### Phase 2送り機能

| # | 機能 | 理由 |
|---|------|------|
| A-18〜A-22 | ノード/ツール/プロンプトテンプレート | 工数削減のため |
| A-23〜A-24 | カスタムテンプレート | 優先度低 |
| A-27〜A-28 | RAG作成/アップロード | Portal経由で代替 |
| A-31〜A-33 | テストシナリオ機能 | 手動テストで代替 |
| A-36〜A-38 | 非公開/削除/複製 | 管理機能はPhase 2 |
| 管理者機能全般 | 権限管理・ログ | 認証なしのため |

### 最終工数

| 区分 | 工数 |
|------|------|
| 利用者向け（B） | 8.5人日 |
| 作成者向け（A） | 13.0人日 |
| インフラ（Flowise導入） | 2.5人日 |
| バッファ | 3.0人日 |
| **合計** | **27.0人日** |

---

## 次のステップ

1. [ ] チームで実行基盤の構成を決定（10-architecture-discussion.md参照）
2. [ ] 最終スコープ承認
3. [ ] フロント/バックエンドのタスク分割
4. [ ] API仕様の定義
