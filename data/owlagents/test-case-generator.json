{
  "id": "test-case-generator",
  "name": "テストケース生成アシスタント",
  "description": "ソースコードや仕様書からユニットテスト、統合テスト、E2Eテストのテストケースを自動生成します。エッジケースやカバレッジ向上の提案も行います。",
  "iconStyle": "green",
  "version": "1.0.0",
  "flow": {
    "nodes": [
      {
        "id": "start-test",
        "type": "start",
        "position": { "x": 0, "y": 150 },
        "data": {
          "label": "テスト対象入力",
          "type": "start",
          "category": "flowControl",
          "config": {
            "inputFields": ["sourceCode", "specifications", "testFramework", "testType", "coverageTarget"]
          }
        }
      },
      {
        "id": "llm-analyze",
        "type": "azureChatOpenAI",
        "position": { "x": 250, "y": 150 },
        "data": {
          "label": "コード分析",
          "type": "azureChatOpenAI",
          "category": "chatModels",
          "config": {
            "systemMessage": "提供されたソースコードを分析し、テストが必要な要素を特定してください：\n\n## 関数・メソッド分析\n- 入力パラメータと戻り値の型\n- 副作用（外部依存、状態変更）\n- 条件分岐とループの構造\n- 例外処理のパターン\n\n## 依存関係の特定\n- 外部サービス呼び出し\n- データベースアクセス\n- ファイル操作\n- モック化が必要な箇所\n\n## テスト観点の抽出\n- 正常系シナリオ\n- 異常系シナリオ\n- 境界値\n- エッジケース",
            "temperature": 0.2
          }
        }
      },
      {
        "id": "llm-unit",
        "type": "azureChatOpenAI",
        "position": { "x": 500, "y": 50 },
        "data": {
          "label": "ユニットテスト生成",
          "type": "azureChatOpenAI",
          "category": "chatModels",
          "config": {
            "systemMessage": "ユニットテストのコードを生成してください：\n\n## テスト構造\n- describe/itブロックの適切な構成\n- AAA（Arrange-Act-Assert）パターン\n- 各テストは1つの振る舞いのみ検証\n\n## テストケース\n```javascript\ndescribe('[対象関数/クラス]', () => {\n  describe('[メソッド名]', () => {\n    it('正常系: [期待される動作]', () => {\n      // Arrange\n      // Act\n      // Assert\n    });\n    \n    it('異常系: [エラーケース]', () => {\n      // テスト\n    });\n    \n    it('境界値: [境界条件]', () => {\n      // テスト\n    });\n  });\n});\n```\n\n## モック・スタブ\n- 依存関係のモック化\n- スパイの活用\n- テストダブルの設定",
            "temperature": 0.3
          }
        }
      },
      {
        "id": "llm-integration",
        "type": "azureChatOpenAI",
        "position": { "x": 500, "y": 250 },
        "data": {
          "label": "統合テスト生成",
          "type": "azureChatOpenAI",
          "category": "chatModels",
          "config": {
            "systemMessage": "統合テストのシナリオとコードを生成してください：\n\n## 統合テストシナリオ\n- コンポーネント間の連携確認\n- API呼び出しフロー\n- データベース操作の検証\n- 外部サービス連携\n\n## テストコード\n```javascript\ndescribe('Integration: [機能名]', () => {\n  beforeAll(async () => {\n    // テスト環境セットアップ\n  });\n  \n  afterAll(async () => {\n    // クリーンアップ\n  });\n  \n  it('[シナリオ名]', async () => {\n    // 実際のDB/APIを使用したテスト\n  });\n});\n```\n\n## テストデータ\n- フィクスチャの設計\n- シードデータの準備\n- テスト後のクリーンアップ",
            "temperature": 0.3
          }
        }
      },
      {
        "id": "llm-edge",
        "type": "azureChatOpenAI",
        "position": { "x": 750, "y": 50 },
        "data": {
          "label": "エッジケース分析",
          "type": "azureChatOpenAI",
          "category": "chatModels",
          "config": {
            "systemMessage": "見落としやすいエッジケースを特定し、テストケースを提案してください：\n\n## 入力値のエッジケース\n- null/undefined\n- 空文字列/空配列/空オブジェクト\n- 最大値/最小値\n- 特殊文字（Unicode、絵文字）\n- 極端に長い入力\n\n## 状態のエッジケース\n- 初期状態\n- 競合状態（並行処理）\n- タイムアウト\n- リトライ時の動作\n\n## 環境のエッジケース\n- ネットワーク障害\n- ディスク容量不足\n- 権限エラー\n- タイムゾーン/ロケール",
            "temperature": 0.4
          }
        }
      },
      {
        "id": "llm-coverage",
        "type": "azureChatOpenAI",
        "position": { "x": 750, "y": 250 },
        "data": {
          "label": "カバレッジ分析",
          "type": "azureChatOpenAI",
          "category": "chatModels",
          "config": {
            "systemMessage": "テストカバレッジを向上させるための提案を行ってください：\n\n## カバレッジ分析\n- 行カバレッジ（Line Coverage）\n- 分岐カバレッジ（Branch Coverage）\n- 関数カバレッジ（Function Coverage）\n- 条件カバレッジ（Condition Coverage）\n\n## 不足テストの特定\n- テストされていないブランチ\n- エラーハンドリングの未テスト箇所\n- 複雑な条件式の組み合わせ\n\n## 追加テストケース提案\n各不足箇所について：\n- テストケース名\n- テスト内容\n- 期待される結果",
            "temperature": 0.3
          }
        }
      },
      {
        "id": "llm-summarize",
        "type": "azureChatOpenAI",
        "position": { "x": 1000, "y": 150 },
        "data": {
          "label": "テストスイート統合",
          "type": "azureChatOpenAI",
          "category": "chatModels",
          "config": {
            "systemMessage": "生成したすべてのテストを統合し、実行可能なテストスイートとして出力してください：\n\n# テストスイート概要\n- テストファイル名と構成\n- 実行順序の推奨\n- 依存関係の説明\n\n# 完全なテストコード\n各テストファイルの内容（コピー&ペーストで使用可能）\n\n# セットアップ手順\n1. 必要なパッケージのインストール\n2. テスト設定ファイルの作成\n3. テスト実行コマンド\n\n# カバレッジ目標\n- 現在の推定カバレッジ\n- 追加推奨テスト",
            "temperature": 0.2
          }
        }
      },
      {
        "id": "end-test",
        "type": "end",
        "position": { "x": 1250, "y": 150 },
        "data": {
          "label": "テストコード出力",
          "type": "end",
          "category": "flowControl",
          "config": {}
        }
      }
    ],
    "edges": [
      {
        "id": "edge-start-analyze",
        "source": "start-test",
        "target": "llm-analyze",
        "sourceHandle": "output",
        "targetHandle": "input"
      },
      {
        "id": "edge-analyze-unit",
        "source": "llm-analyze",
        "target": "llm-unit",
        "sourceHandle": "output",
        "targetHandle": "input"
      },
      {
        "id": "edge-analyze-integration",
        "source": "llm-analyze",
        "target": "llm-integration",
        "sourceHandle": "output",
        "targetHandle": "input"
      },
      {
        "id": "edge-unit-edge",
        "source": "llm-unit",
        "target": "llm-edge",
        "sourceHandle": "output",
        "targetHandle": "input"
      },
      {
        "id": "edge-integration-coverage",
        "source": "llm-integration",
        "target": "llm-coverage",
        "sourceHandle": "output",
        "targetHandle": "input"
      },
      {
        "id": "edge-edge-summarize",
        "source": "llm-edge",
        "target": "llm-summarize",
        "sourceHandle": "output",
        "targetHandle": "edge"
      },
      {
        "id": "edge-coverage-summarize",
        "source": "llm-coverage",
        "target": "llm-summarize",
        "sourceHandle": "output",
        "targetHandle": "coverage"
      },
      {
        "id": "edge-unit-summarize",
        "source": "llm-unit",
        "target": "llm-summarize",
        "sourceHandle": "output",
        "targetHandle": "unit"
      },
      {
        "id": "edge-integration-summarize",
        "source": "llm-integration",
        "target": "llm-summarize",
        "sourceHandle": "output",
        "targetHandle": "integration"
      },
      {
        "id": "edge-summarize-end",
        "source": "llm-summarize",
        "target": "end-test",
        "sourceHandle": "output",
        "targetHandle": "input"
      }
    ],
    "viewport": { "x": 50, "y": 150, "zoom": 0.7 }
  },
  "tags": ["開発支援", "テスト", "ユニットテスト", "統合テスト", "カバレッジ", "品質保証"],
  "createdAt": "2025-12-22T10:00:00.000Z",
  "updatedAt": "2025-12-22T10:00:00.000Z"
}
