### 業務フロー

[1] 業務課題の整理
       ↓
[2] エージェントのコンセプト設計
       ↓
[3] *RAG用データの選定・登録
       ↓
[4] *Flowiseでエージェント構築
       ↓
[5] *自己テスト・修正
       ↓
[6] *公開範囲の設定・公開
       ↓
[7] *利用状況の確認・改善
       ↓
[8] *統合・廃止（ポートフォリオ整理）

* 企画フェーズ：
[1] 業務課題の整理（主担当：現場ユーザー／チーム）
[2] エージェントのコンセプト設計（主担当：現場ユーザー／チーム）

* 構築フェーズ：
[3] RAG用データの選定・登録（主担当：現場ユーザー、支援：Dai-rab）
[4] Flowiseでエージェント構築（主担当：現場ユーザー）
[5] 自己テスト・修正（主担当：現場ユーザー）

* 運用フェーズ：
[6] 公開範囲の設定・公開（主担当：現場ユーザー）
[7] 利用状況の確認・改善（主担当：現場ユーザー）
[8] 統合・廃止（一定期間の利用状況・重複度合いに応じてポートフォリオ整理）

---

### ユーザー別業務フロー

#### 開発初学者がOwliaFabricaを利用するフロー

開発経験が浅い、またはAIエージェント構築が初めてのユーザー向けのフローです。

```
[A1] ストアからエージェントを探す
       ↓
[A2] エージェントをそのまま利用
       ↓
[A3] 必要に応じてカスタマイズ
       ↓
[A4] 自分用に保存・活用
```

**[A1] ストアからエージェントを探す**
* **目的**：自分の業務に合ったエージェントを見つける
* **やること**：
  * Agent Storeで公開済みエージェントを閲覧する
  * PowerPro風のカード表示で能力値（人気度・安定性・応答速度など）を確認する
  * タグやカテゴリで絞り込み、業務に適したエージェントを選ぶ
* **ゴール**：使いたいエージェントを発見する

**[A2] エージェントをそのまま利用**
* **目的**：プロンプトの試行錯誤なしにAIを活用する
* **やること**：
  * 選んだエージェントをワンクリックで実行する
  * 必要な入力（質問や対象データ）を与えるだけで結果を得る
  * 複雑なプロンプト設計は不要
* **ゴール**：手軽にAIの恩恵を受ける

**[A3] 必要に応じてカスタマイズ**
* **目的**：自分の業務により適した形に調整する
* **やること**：
  * エージェントをコピーして自分用のバージョンを作成する
  * ビジュアルエディタでノードの設定を微調整する
  * テンプレートとして提供されているノードを追加・削除する
* **ゴール**：自分の業務に最適化されたエージェントを持つ

**[A4] 自分用に保存・活用**
* **目的**：カスタマイズしたエージェントを継続利用する
* **やること**：
  * 調整したエージェントをOwlAgentとして保存する
  * 日常業務で繰り返し利用する
  * 同僚やチームに共有する（任意）
* **ゴール**：プロンプトの往復なしに、毎回同じ品質のAI出力を得られる環境

---

#### 開発経験者が自身のタスクを効率化するために利用するフロー

開発経験があり、より高度なエージェント構築や自動化を目指すユーザー向けのフローです。

```
[B1] 繰り返しタスクの特定・分析
       ↓
[B2] エージェントフローの設計・構築
       ↓
[B3] マルチエージェント連携の構築
       ↓
[B4] 業務システムへの統合
       ↓
[B5] 継続的な改善・最適化
```

**[B1] 繰り返しタスクの特定・分析**
* **目的**：自動化・効率化の対象を明確にする
* **やること**：
  * 日常業務で繰り返し行っている作業をリストアップする
  * プロンプトを何度も調整している作業を特定する
  * AIで自動化できる部分と人間の判断が必要な部分を切り分ける
* **ゴール**：エージェント化する業務の優先順位を決める

**[B2] エージェントフローの設計・構築**
* **目的**：効率的なワークフローを視覚的に構築する
* **やること**：
  * Agent Canvasでドラッグ&ドロップによりフローを設計する
  * LLMノード、プロンプトテンプレート、メモリノードなどを組み合わせる
  * 人間確認（Human-in-the-Loop）が必要なポイントを設定する
  * 条件分岐やエラーハンドリングを組み込む
* **ゴール**：複雑な処理を1クリックで実行できるエージェントを作成する

**[B3] マルチエージェント連携の構築**
* **目的**：複数のエージェントを連携させて高度な自動化を実現する
* **やること**：
  * Multi-Agent Canvasで複数のOwlAgentを配置・接続する
  * エージェント間のデータパイプラインを設計する
  * 実行順序（トポロジカルソート）を確認する
  * 各エージェントの出力が次のエージェントの入力として適切か検証する
* **ゴール**：複数ステップにわたる複雑な業務を自動化する

**[B4] 業務システムへの統合**
* **目的**：日常の開発・業務フローにエージェントを組み込む
* **やること**：
  * API経由でエージェントを呼び出すスクリプトを作成する
  * CI/CDパイプラインやSlack/Teamsボットと連携する
  * 定期実行のスケジュール設定を行う
  * 既存の業務アプリにウィジェットとして埋め込む
* **ゴール**：エージェントが業務の一部として自然に動作する環境

**[B5] 継続的な改善・最適化**
* **目的**：エージェントのパフォーマンスを継続的に向上させる
* **やること**：
  * 統計情報（実行回数、成功率、応答速度）を確認する
  * ユーザーからのフィードバック（評価）を収集する
  * 能力値の変化を追跡し、パフォーマンス低下を検知する
  * プロンプトやフローを改善し、新バージョンとして保存する
* **ゴール**：常に最適化されたエージェントを維持する

---

### 1. 業務課題の整理

* **目的**：どの業務をエージェントで効率化するか決める
* **やること**：
  * 繰り返し発生している質問・説明・調査作業を書き出す
  * 「このテーマをエージェントにする」と1つ選ぶ
* **ゴール**：
  * 「○○業務をエージェント化したい」を決める

---

### 2. エージェントのコンセプト設計

* **目的**：エージェントの役割と対象ユーザをはっきりさせる
* **やること**：
  * エージェントでできること/できないことの境界を整理する。必要があればQAする
  * エージェントの一行説明を作る
  * 想定ユーザ（自分／チーム／部署／全社）を決める
  * 代表的な質問例・アウトプット（回答）イメージを整理する
* **ゴール**：
  * 「どんな人が・何を聞くためのエージェントか」を決める

---

### 3. ツール・RAG用データの選定・登録
* **目的**：エージェントが参照するツール・社内資料を決める
* **やること**：
  * 必要な資料（規程・マニュアル・Wiki・設計書など）を選ぶ
  * 公開範囲と資料の機密度が合っているか確認する
  * Owlia-Portal等でRAGグループとして登録する
* **ゴール**：
  * ツールの選定orRAGデータ作成

---

### 4. Flowiseでエージェント構築

* **目的**：実際に動くエージェントのフローを作る
* **やること**：
  * Flowiseの画面で
    * 入力 → プロンプト → RAG検索 → 応答生成 の流れを組む
  * 再利用できるコンポーネント（共通ノード/エージェント/ツール）は、なるべきテンプレから使う
  * 3で作ったRAGを紐づける
  * 情報が見つからない場合のメッセージも決める
* **ゴール**：
  * 動作するエージェント（ドラフト状態）の作成

---

### 5. 自己テスト・修正
* **目的**：公開前に最低限の品質を自分で確認する
* **やること**：
  * 想定Q&Aや少しひねった質問を投げてみる
  * 誤回答・不明回答・危ない回答がないかチェックする
  * 必要に応じてRAG・プロンプト・フローを修正する
* **ゴール**：
  * 現場で使えるレベルにエージェントを調整する
---

### 6. 公開範囲の設定・公開
* **目的**：誰がエージェントを使えるかを決めて本番投入する
* **やること**：
  * アプリ上で公開範囲（自分／チーム／部署／全社）を選択
  * RAG利用等で許可が必要なら上長や管理者に一声かける（全社公開などの場合）
* **ゴール**：
  * 対象ユーザのエージェント一覧に表示される「公開済みエージェント」

#### 6.5 業務アプリへの埋め込み
* **やること**：
  * 必要に応じて、Spriteや自身の業務アプリ等の業務アプリ内にウィジェット／ボタンとして埋め込む設定を行う

---

### 7. 利用状況の確認・改善
* **目的**：作りっぱなしにせず、使われ方を見て良くしてい
* **やること**：
  * 利用回数・質問内容・フィードバック（役に立った／微妙）を確認
  * 誤回答・よく聞かれる内容から、RAGやプロンプトを見直す
* **ゴール**：
  * 利用データを踏まえて改善されたエージェントを作成する
---

### 8. 統合・廃止（ポートフォリオ整理）
* **目的**：古い・使われないエージェントを整理してスリムに保つ
* **やること**：
  * 利用されていない／内容が古いエージェントを洗い出す
  * 似ているものは統合し、不要なものはアーカイブ（廃止）する
  * 必要なら利用者に「統合・廃止」の案内を出す
* **ゴール**：
  * 必要なエージェントだけが残った、分かりやすいラインナップに整理されている