(()=>{var e={};e.id=557,e.ids=[557],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},77456:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d});var s=r(70260),n=r(28203),i=r(25155),a=r.n(i),o=r(67292),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["agent-canvas",{children:["[id]",{children:["run",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,69615)),"C:\\Users\\yrk20\\OwliaFabrica2\\app\\agent-canvas\\[id]\\run\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,19611)),"C:\\Users\\yrk20\\OwliaFabrica2\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\yrk20\\OwliaFabrica2\\app\\agent-canvas\\[id]\\run\\page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/agent-canvas/[id]/run/page",pathname:"/agent-canvas/[id]/run",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},66699:(e,t,r)=>{Promise.resolve().then(r.bind(r,69615))},42723:(e,t,r)=>{Promise.resolve().then(r.bind(r,19003))},47436:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,13219,23)),Promise.resolve().then(r.t.bind(r,34863,23)),Promise.resolve().then(r.t.bind(r,25155,23)),Promise.resolve().then(r.t.bind(r,9350,23)),Promise.resolve().then(r.t.bind(r,96313,23)),Promise.resolve().then(r.t.bind(r,48530,23)),Promise.resolve().then(r.t.bind(r,88921,23))},53516:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,66959,23)),Promise.resolve().then(r.t.bind(r,33875,23)),Promise.resolve().then(r.t.bind(r,88903,23)),Promise.resolve().then(r.t.bind(r,84178,23)),Promise.resolve().then(r.t.bind(r,86013,23)),Promise.resolve().then(r.t.bind(r,87190,23)),Promise.resolve().then(r.t.bind(r,61365,23))},71061:()=>{},61333:()=>{},19003:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(45512),n=r(58009),i=r(20908),a=r(77800),o=r(71229),l=r(79334);function d(){let e=(0,l.useRouter)(),t=(0,l.useParams)().id,[r,d]=(0,n.useState)(null),[c,p]=(0,n.useState)(!0),[u,x]=(0,n.useState)(!1),[h,m]=(0,n.useState)(null),[g,v]=(0,n.useState)(""),[b,y]=(0,n.useState)(null),j=async()=>{if(!g.trim()){m("入力を入力してください");return}x(!0),m(null),y(null);try{let e=await fetch(`/api/owlagents/${t}/execute`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:g.trim()})});if(e.ok){let t=await e.json();y(t)}else m("実行に失敗しました")}catch(e){m("実行中にエラーが発生しました")}finally{x(!1)}};return c?(0,s.jsx)(i.Box,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,s.jsx)(i.CircularProgress,{})}):r?(0,s.jsxs)(i.Box,{sx:{p:4,maxWidth:"1200px",mx:"auto"},children:[(0,s.jsxs)(i.Box,{sx:{mb:4},children:[(0,s.jsx)(i.Button,{variant:"outlined",startIcon:(0,s.jsx)(o.A,{}),onClick:()=>e.push("/agent-canvas"),sx:{mb:2},children:"戻る"}),(0,s.jsx)(i.Typography,{variant:"h4",fontWeight:"bold",gutterBottom:!0,children:r.name}),(0,s.jsx)(i.Typography,{variant:"body1",color:"text.secondary",children:r.description}),(0,s.jsxs)(i.Box,{sx:{display:"flex",gap:1,mt:2},children:[(0,s.jsx)(i.Chip,{label:`Version ${r.version}`,size:"small"}),(0,s.jsx)(i.Chip,{label:`${r.flow.nodes.length} ノード`,size:"small",variant:"outlined"}),(0,s.jsx)(i.Chip,{label:`${r.flow.edges.length} エッジ`,size:"small",variant:"outlined"}),r.flowiseChatflowId&&(0,s.jsx)(i.Chip,{label:"Flowise連携",size:"small",color:"primary"})]})]}),h&&(0,s.jsx)(i.Alert,{severity:"error",sx:{mb:3},onClose:()=>m(null),children:h}),(0,s.jsxs)(i.Paper,{sx:{p:3,mb:3},children:[(0,s.jsx)(i.Typography,{variant:"h6",gutterBottom:!0,children:"入力"}),(0,s.jsx)(i.TextField,{fullWidth:!0,multiline:!0,rows:4,value:g,onChange:e=>v(e.target.value),placeholder:"エージェントへの入力を入力してください",sx:{mb:2}}),(0,s.jsx)(i.Button,{variant:"contained",size:"large",startIcon:u?(0,s.jsx)(i.CircularProgress,{size:20}):(0,s.jsx)(a.A,{}),onClick:j,disabled:u||!g.trim(),fullWidth:!0,children:u?"実行中...":"実行"})]}),b&&(0,s.jsxs)(i.Paper,{sx:{p:3},children:[(0,s.jsxs)(i.Box,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,s.jsx)(i.Typography,{variant:"h6",children:"実行結果"}),(0,s.jsx)(i.Chip,{label:b.success?"成功":"失敗",color:b.success?"success":"error"})]}),(0,s.jsx)(i.Divider,{sx:{my:2}}),(0,s.jsxs)(i.Box,{sx:{mb:3},children:[(0,s.jsx)(i.Typography,{variant:"subtitle1",fontWeight:"bold",gutterBottom:!0,children:"出力"}),(0,s.jsx)(i.Paper,{variant:"outlined",sx:{p:2,bgcolor:"grey.50"},children:(0,s.jsx)("pre",{style:{margin:0,whiteSpace:"pre-wrap",wordBreak:"break-word"},children:"string"==typeof b.output?b.output:JSON.stringify(b.output,null,2)})})]}),(0,s.jsxs)(i.Box,{sx:{mb:3},children:[(0,s.jsx)(i.Typography,{variant:"subtitle1",fontWeight:"bold",gutterBottom:!0,children:"実行情報"}),(0,s.jsxs)(i.Typography,{variant:"body2",color:"text.secondary",children:["実行時間: ",b.executionTime,"ms"]})]}),b.logs&&b.logs.length>0&&(0,s.jsxs)(i.Box,{children:[(0,s.jsx)(i.Typography,{variant:"subtitle1",fontWeight:"bold",gutterBottom:!0,children:"実行ログ"}),(0,s.jsx)(i.Paper,{variant:"outlined",sx:{p:2,bgcolor:"grey.50",maxHeight:300,overflow:"auto"},children:(0,s.jsx)(i.List,{dense:!0,children:b.logs.map((e,t)=>(0,s.jsx)(i.ListItem,{disablePadding:!0,children:(0,s.jsx)(i.ListItemText,{primary:e,primaryTypographyProps:{variant:"body2",fontFamily:"monospace"}})},t))})})]}),b.error&&(0,s.jsx)(i.Box,{sx:{mt:2},children:(0,s.jsx)(i.Alert,{severity:"error",children:b.error})})]})]}):(0,s.jsxs)(i.Box,{sx:{p:4},children:[(0,s.jsx)(i.Alert,{severity:"error",children:"エージェントが見つかりません"}),(0,s.jsx)(i.Button,{variant:"outlined",startIcon:(0,s.jsx)(o.A,{}),onClick:()=>e.push("/agent-canvas"),sx:{mt:2},children:"戻る"})]})}},69615:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\yrk20\\\\OwliaFabrica2\\\\app\\\\agent-canvas\\\\[id]\\\\run\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\yrk20\\OwliaFabrica2\\app\\agent-canvas\\[id]\\run\\page.tsx","default")},19611:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,metadata:()=>a});var s=r(62740),n=r(61421),i=r.n(n);r(82704);let a={title:"Owlia Fabrica - Flowise AI Assistant",description:"AI-powered assistant using Flowise and Next.js"};function o({children:e}){return(0,s.jsx)("html",{lang:"ja",children:(0,s.jsx)("body",{className:i().className,children:e})})}},82704:()=>{},71229:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var s=r(66214),n=r(45512);let i=(0,s.A)((0,n.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack")},77800:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var s=r(66214),n=r(45512);let i=(0,s.A)((0,n.jsx)("path",{d:"M8 5v14l11-7z"}),"PlayArrow")}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[989,84,80],()=>r(77456));module.exports=s})();