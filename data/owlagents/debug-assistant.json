{
  "id": "debug-assistant",
  "name": "デバッグ・エラー解析アシスタント",
  "description": "エラーメッセージ、スタックトレース、ログを分析し、根本原因を特定して具体的な解決策を提案します。類似事例の検索と再発防止策も提供します。",
  "iconStyle": "red",
  "version": "1.0.0",
  "flow": {
    "nodes": [
      {
        "id": "start-debug",
        "type": "start",
        "position": { "x": 0, "y": 150 },
        "data": {
          "label": "エラー情報入力",
          "type": "start",
          "category": "flowControl",
          "config": {
            "inputFields": ["errorMessage", "stackTrace", "logs", "codeContext", "environment"]
          }
        }
      },
      {
        "id": "llm-parse",
        "type": "azureChatOpenAI",
        "position": { "x": 250, "y": 150 },
        "data": {
          "label": "エラー解析",
          "type": "azureChatOpenAI",
          "category": "chatModels",
          "config": {
            "systemMessage": "あなたはデバッグの専門家です。提供されたエラー情報を解析し、以下を特定してください：\n\n1. **エラータイプの分類**\n   - シンタックスエラー / ランタイムエラー / 論理エラー\n   - ネットワーク / データベース / 認証 / メモリ等\n\n2. **エラー発生箇所**\n   - ファイル名、行番号、関数名\n   - コールスタックの重要部分\n\n3. **直接的な原因**\n   - 何が起きているか（変数がnull、型の不一致等）\n\n4. **根本原因の仮説**\n   - なぜそれが起きたか（複数の可能性を列挙）",
            "temperature": 0.2
          }
        }
      },
      {
        "id": "vectorstore-similar",
        "type": "custom",
        "position": { "x": 250, "y": 0 },
        "data": {
          "label": "類似エラー検索",
          "type": "vectorstore",
          "category": "vectorstore",
          "config": {
            "provider": "pinecone",
            "indexName": "error-knowledge-base",
            "topK": 5
          }
        }
      },
      {
        "id": "llm-solution",
        "type": "azureChatOpenAI",
        "position": { "x": 500, "y": 150 },
        "data": {
          "label": "解決策提案",
          "type": "azureChatOpenAI",
          "category": "chatModels",
          "config": {
            "systemMessage": "エラー解析結果と類似事例を参考に、具体的な解決策を提案してください：\n\n## 即時対応（Quick Fix）\n今すぐ試せる解決策を優先度順に\n\n## 段階的デバッグ手順\n1. 確認すべき点\n2. 試すべきコマンド/コード\n3. 期待される結果\n\n## 修正コード例\n```\n修正前 → 修正後\n```\n\n## 参考リンク\n- 公式ドキュメント\n- Stack Overflow等の関連質問",
            "temperature": 0.3
          }
        }
      },
      {
        "id": "llm-prevention",
        "type": "azureChatOpenAI",
        "position": { "x": 750, "y": 50 },
        "data": {
          "label": "再発防止策",
          "type": "azureChatOpenAI",
          "category": "chatModels",
          "config": {
            "systemMessage": "このエラーの再発を防ぐための対策を提案してください：\n\n## コードレベルの対策\n- 型チェック、バリデーション追加\n- エラーハンドリングの改善\n- 防御的プログラミング\n\n## テストの追加\n- 追加すべきユニットテスト\n- エッジケースのカバー\n\n## 監視・アラートの設定\n- 検知すべきメトリクス\n- アラート条件\n\n## チェックリスト\n- コードレビュー時の確認項目",
            "temperature": 0.3
          }
        }
      },
      {
        "id": "llm-summarize",
        "type": "azureChatOpenAI",
        "position": { "x": 1000, "y": 150 },
        "data": {
          "label": "レポート生成",
          "type": "azureChatOpenAI",
          "category": "chatModels",
          "config": {
            "systemMessage": "デバッグ結果を以下の形式でレポートにまとめてください：\n\n# エラー解析レポート\n\n## サマリー\n- エラー: [1行で説明]\n- 原因: [1行で説明]\n- 解決: [1行で説明]\n\n## 詳細分析\n[解析結果]\n\n## 解決手順\n[ステップバイステップ]\n\n## 再発防止\n[重要な対策3点]\n\n## 学んだこと\n[今後に活かせるポイント]",
            "temperature": 0.2
          }
        }
      },
      {
        "id": "end-debug",
        "type": "end",
        "position": { "x": 1250, "y": 150 },
        "data": {
          "label": "レポート出力",
          "type": "end",
          "category": "flowControl",
          "config": {}
        }
      }
    ],
    "edges": [
      {
        "id": "edge-start-parse",
        "source": "start-debug",
        "target": "llm-parse",
        "sourceHandle": "output",
        "targetHandle": "input"
      },
      {
        "id": "edge-start-similar",
        "source": "start-debug",
        "target": "vectorstore-similar",
        "sourceHandle": "output",
        "targetHandle": "input"
      },
      {
        "id": "edge-parse-solution",
        "source": "llm-parse",
        "target": "llm-solution",
        "sourceHandle": "output",
        "targetHandle": "input"
      },
      {
        "id": "edge-similar-solution",
        "source": "vectorstore-similar",
        "target": "llm-solution",
        "sourceHandle": "output",
        "targetHandle": "context"
      },
      {
        "id": "edge-solution-prevention",
        "source": "llm-solution",
        "target": "llm-prevention",
        "sourceHandle": "output",
        "targetHandle": "input"
      },
      {
        "id": "edge-solution-summarize",
        "source": "llm-solution",
        "target": "llm-summarize",
        "sourceHandle": "output",
        "targetHandle": "solution"
      },
      {
        "id": "edge-prevention-summarize",
        "source": "llm-prevention",
        "target": "llm-summarize",
        "sourceHandle": "output",
        "targetHandle": "prevention"
      },
      {
        "id": "edge-summarize-end",
        "source": "llm-summarize",
        "target": "end-debug",
        "sourceHandle": "output",
        "targetHandle": "input"
      }
    ],
    "viewport": { "x": 50, "y": 100, "zoom": 0.75 }
  },
  "tags": ["開発支援", "デバッグ", "エラー解析", "トラブルシューティング", "問題解決"],
  "createdAt": "2025-12-22T10:00:00.000Z",
  "updatedAt": "2025-12-22T10:00:00.000Z"
}
