(()=>{var e={};e.id=594,e.ids=[594],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},90633:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>f,routeModule:()=>d,serverHooks:()=>w,workAsyncStorage:()=>c,workUnitAsyncStorage:()=>x});var s={};r.r(s),r.d(s,{GET:()=>u,POST:()=>l});var n=r(42706),a=r(28203),o=r(45994),i=r(39187);let p=process.env.PPTX_SERVICE_URL||"http://localhost:8100";async function u(e){let{searchParams:t}=new URL(e.url),r=t.get("action")||"status",s=t.get("template_id");try{switch(r){case"status":{let e=await fetch(`${p}/`),t=await e.json();return i.NextResponse.json({connected:!0,service:t})}case"list_templates":{let e=await fetch(`${p}/templates`),t=await e.json();return i.NextResponse.json(t)}case"analyze_template":{if(!s)return i.NextResponse.json({error:"template_id is required"},{status:400});let e=await fetch(`${p}/templates/${s}/analyze`),t=await e.json();return i.NextResponse.json(t)}default:return i.NextResponse.json({error:`Unknown action: ${r}`},{status:400})}}catch(t){let e=t instanceof Error?t.message:"Unknown error";return i.NextResponse.json({connected:!1,error:`Failed to connect to PPTX service: ${e}`,serviceUrl:p},{status:503})}}async function l(e){try{let{action:t,template_id:r,slides:s,output_filename:n,metadata:a}=await e.json();switch(t){case"generate":{if(!s||0===s.length)return i.NextResponse.json({error:"slides array is required"},{status:400});let e=await fetch(`${p}/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({template_id:r,slides:s,output_filename:n,metadata:a})}),t=await e.json();if(!e.ok)return i.NextResponse.json(t,{status:e.status});return t.download_url&&(t.download_url=`/api/pptx/download?filename=${t.filename}`),i.NextResponse.json(t)}case"fill_template":{if(!r)return i.NextResponse.json({error:"template_id is required"},{status:400});if(!s||0===s.length)return i.NextResponse.json({error:"slides array is required"},{status:400});let e=await fetch(`${p}/templates/${r}/fill`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({slides:s,output_filename:n})}),t=await e.json();if(!e.ok)return i.NextResponse.json(t,{status:e.status});return t.download_url&&(t.download_url=`/api/pptx/download?filename=${t.filename}`),i.NextResponse.json(t)}default:return i.NextResponse.json({error:`Unknown action: ${t}`},{status:400})}}catch(t){let e=t instanceof Error?t.message:"Unknown error";return i.NextResponse.json({error:`Failed to generate presentation: ${e}`},{status:500})}}let d=new n.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/pptx/route",pathname:"/api/pptx",filename:"route",bundlePath:"app/api/pptx/route"},resolvedPagePath:"C:\\Users\\yrk20\\OwliaFabrica2\\app\\api\\pptx\\route.ts",nextConfigOutput:"standalone",userland:s}),{workAsyncStorage:c,workUnitAsyncStorage:x,serverHooks:w}=d;function f(){return(0,o.patchFetch)({workAsyncStorage:c,workUnitAsyncStorage:x})}},96487:()=>{},78335:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[989,452],()=>r(90633));module.exports=s})();