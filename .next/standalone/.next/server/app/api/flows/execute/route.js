"use strict";(()=>{var e={};e.id=565,e.ids=[565],e.modules={10846:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},44870:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},29294:e=>{e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},59972:(e,r,t)=>{t.r(r),t.d(r,{patchFetch:()=>g,routeModule:()=>p,serverHooks:()=>w,workAsyncStorage:()=>d,workUnitAsyncStorage:()=>x});var s={};t.r(s),t.d(s,{OPTIONS:()=>c,POST:()=>l});var o=t(42706),n=t(28203),a=t(45994),i=t(39187),u=t(50658);async function l(e){try{let{nodes:r,edges:t,input:s,sessionId:o,useNative:n=!0,action:a,reviewNodeId:l,decision:c,editedOutput:p}=await e.json();if("review"===a){if(!l||!c)return i.NextResponse.json({error:"Review node ID and decision are required"},{status:400});let e=await (0,u.w)(r,t,l,c,p);return i.NextResponse.json(e)}if(!r||!Array.isArray(r))return i.NextResponse.json({error:"Nodes array is required"},{status:400});if(!t||!Array.isArray(t))return i.NextResponse.json({error:"Edges array is required"},{status:400});console.log("[API] Executing flow with native engine"),console.log("[API] Input:",s),console.log("[API] Nodes count:",r.length);let d=await (0,u.i)(r,t,s,o);return console.log("[API] Execution result:",JSON.stringify(d,null,2)),i.NextResponse.json(d)}catch(e){return console.error("Error executing flow:",e),i.NextResponse.json({success:!1,error:e instanceof Error?e.message:"Internal server error",logs:[`[ERROR] ${e instanceof Error?e.message:"Unknown error"}`]},{status:500})}}async function c(){return new i.NextResponse(null,{status:200,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"POST, OPTIONS","Access-Control-Allow-Headers":"Content-Type"}})}let p=new o.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/flows/execute/route",pathname:"/api/flows/execute",filename:"route",bundlePath:"app/api/flows/execute/route"},resolvedPagePath:"C:\\Users\\yrk20\\OwliaFabrica2\\app\\api\\flows\\execute\\route.ts",nextConfigOutput:"standalone",userland:s}),{workAsyncStorage:d,workUnitAsyncStorage:x,serverHooks:w}=p;function g(){return(0,a.patchFetch)({workAsyncStorage:d,workUnitAsyncStorage:x})}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[989,452,830],()=>t(59972));module.exports=s})();