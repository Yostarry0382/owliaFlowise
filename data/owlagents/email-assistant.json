{
  "id": "email-assistant",
  "name": "メール作成・返信支援",
  "description": "ビジネスメールの下書き作成や返信文の自動生成を支援します。トーン調整、敬語チェック、添付ファイル確認リマインダーなどの機能を提供します。",
  "iconStyle": "green",
  "version": "1.0.0",
  "flow": {
    "nodes": [
      {
        "id": "start-email",
        "type": "start",
        "position": { "x": 0, "y": 150 },
        "data": {
          "label": "メール情報入力",
          "type": "start",
          "category": "flowControl",
          "config": {
            "inputFields": ["emailType", "recipient", "subject", "keyPoints", "originalEmail"]
          }
        }
      },
      {
        "id": "memory-templates",
        "type": "custom",
        "position": { "x": 200, "y": 50 },
        "data": {
          "label": "メールテンプレート",
          "type": "memory",
          "category": "memory",
          "config": {
            "memoryType": "buffer",
            "templates": ["挨拶文", "お礼メール", "依頼メール", "謝罪メール", "報告メール"]
          }
        }
      },
      {
        "id": "llm-analyze",
        "type": "azureChatOpenAI",
        "position": { "x": 400, "y": 150 },
        "data": {
          "label": "文脈分析・トーン判定",
          "type": "azureChatOpenAI",
          "category": "chatModels",
          "config": {
            "systemMessage": "あなたはビジネスメールの専門家です。与えられた情報から以下を分析してください：\n1. メールの目的と適切なトーン\n2. 相手との関係性に応じた敬語レベル\n3. 含めるべき重要ポイント\n4. 添付ファイルが必要かどうか",
            "temperature": 0.3
          }
        }
      },
      {
        "id": "llm-draft",
        "type": "azureChatOpenAI",
        "position": { "x": 600, "y": 150 },
        "data": {
          "label": "メール文面生成",
          "type": "azureChatOpenAI",
          "category": "chatModels",
          "config": {
            "systemMessage": "分析結果に基づいて、プロフェッショナルなビジネスメールを作成してください。\n- 件名は簡潔で内容が分かるものに\n- 本文は適切な挨拶から始め、要点を明確に\n- 結びの挨拶も忘れずに\n- 敬語は一貫性を保つ",
            "temperature": 0.5
          }
        }
      },
      {
        "id": "human-review",
        "type": "custom",
        "position": { "x": 800, "y": 50 },
        "data": {
          "label": "送信前確認",
          "type": "humanReview",
          "category": "flowControl",
          "config": {
            "enabled": true,
            "message": "メール内容を確認してください"
          },
          "humanReview": {
            "enabled": true,
            "requiresApproval": true,
            "approvalMessage": "メールの内容、宛先、添付ファイルを確認してください",
            "allowEdit": true
          }
        }
      },
      {
        "id": "llm-polish",
        "type": "azureChatOpenAI",
        "position": { "x": 1000, "y": 150 },
        "data": {
          "label": "最終チェック・推敲",
          "type": "azureChatOpenAI",
          "category": "chatModels",
          "config": {
            "systemMessage": "最終チェックを行ってください：\n1. 誤字脱字チェック\n2. 敬語の一貫性確認\n3. 分かりにくい表現の修正\n4. 改善提案があれば追記",
            "temperature": 0.2
          }
        }
      },
      {
        "id": "end-email",
        "type": "end",
        "position": { "x": 1200, "y": 150 },
        "data": {
          "label": "メール出力",
          "type": "end",
          "category": "flowControl",
          "config": {}
        }
      }
    ],
    "edges": [
      {
        "id": "edge-start-memory",
        "source": "start-email",
        "target": "memory-templates",
        "sourceHandle": "output",
        "targetHandle": "input"
      },
      {
        "id": "edge-start-analyze",
        "source": "start-email",
        "target": "llm-analyze",
        "sourceHandle": "output",
        "targetHandle": "input"
      },
      {
        "id": "edge-memory-analyze",
        "source": "memory-templates",
        "target": "llm-analyze",
        "sourceHandle": "output",
        "targetHandle": "context"
      },
      {
        "id": "edge-analyze-draft",
        "source": "llm-analyze",
        "target": "llm-draft",
        "sourceHandle": "output",
        "targetHandle": "input"
      },
      {
        "id": "edge-draft-review",
        "source": "llm-draft",
        "target": "human-review",
        "sourceHandle": "output",
        "targetHandle": "input"
      },
      {
        "id": "edge-review-polish",
        "source": "human-review",
        "target": "llm-polish",
        "sourceHandle": "output",
        "targetHandle": "input"
      },
      {
        "id": "edge-polish-end",
        "source": "llm-polish",
        "target": "end-email",
        "sourceHandle": "output",
        "targetHandle": "input"
      }
    ],
    "viewport": { "x": 100, "y": 200, "zoom": 1 }
  },
  "tags": ["業務効率化", "メール", "コミュニケーション", "自動化", "ビジネス文書"],
  "createdAt": "2025-12-22T10:00:00.000Z",
  "updatedAt": "2025-12-22T10:00:00.000Z"
}
